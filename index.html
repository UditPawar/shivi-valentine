<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>For Shivi üíñ</title>

<style>
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    overflow-x:hidden;
    overflow-y:auto;
    -webkit-overflow-scrolling: touch;
    font-family: "Segoe UI", system-ui, -apple-system, Arial, sans-serif;
    display:flex;
    align-items:center;
    justify-content:center;
    padding: 26px 0;
    background:
      radial-gradient(circle at 20% 10%, rgba(255, 77, 109, .30), transparent 55%),
      radial-gradient(circle at 80% 0%, rgba(189, 224, 254, .45), transparent 60%),
      radial-gradient(circle at 50% 100%, rgba(205, 180, 219, .45), transparent 60%),
      radial-gradient(circle at top, #ff9ab3, #ffd6e8 45%, #bde0fe);
  }

  /* Keep effects hidden until "Open" */
  .hiddenBeforeOpen{ display:none !important; }

  .aura{
    position:fixed; inset:-45%;
    background: conic-gradient(from 90deg,
      rgba(255,45,85,.75),
      rgba(255,209,102,.70),
      rgba(76,201,240,.70),
      rgba(199,125,255,.65),
      rgba(255,45,85,.75));
    filter: blur(75px);
    opacity:.26;
    animation: spin 16s linear infinite;
    z-index:0;
    pointer-events:none;
  }
  @keyframes spin{to{transform:rotate(360deg)}}

  .pulse{
    position:fixed; inset:0;
    background: radial-gradient(circle at 50% 40%, rgba(255,45,85,.13), transparent 55%);
    animation: heartbeat 2.3s ease-in-out infinite;
    z-index:0;
    pointer-events:none;
  }
  @keyframes heartbeat{
    0%,100%{opacity:.28; transform:scale(1)}
    45%{opacity:.52; transform:scale(1.02)}
    60%{opacity:.35; transform:scale(1)}
  }

  .sparkle{
    position:fixed;
    width:8px; height:8px;
    background: rgba(255,255,255,.9);
    border-radius: 50%;
    animation: twinkle 2.8s ease-in-out infinite;
    opacity: .7;
    box-shadow: 0 0 12px rgba(255,255,255,.7);
    z-index:0;
    pointer-events:none;
  }
  @keyframes twinkle{
    0%,100%{transform:scale(.6); opacity:.35}
    50%{transform:scale(1.3); opacity:.95}
  }

  .float{
    position:fixed; bottom:-30px;
    user-select:none; pointer-events:none;
    animation: floatUp linear forwards;
    opacity:.78;
    text-shadow: 0 6px 18px rgba(0,0,0,.18);
    z-index:0;
  }
  @keyframes floatUp{
    from{transform:translateY(0) scale(1); opacity:.85}
    to{transform:translateY(-120vh) scale(1.7); opacity:0}
  }

  .card{
    position:relative;
    z-index:1;
    width:min(700px, 94vw);
    padding: 28px 26px 22px;
    border-radius: 30px;
    background: rgba(255,255,255,.16);
    border: 1px solid rgba(255,255,255,.30);
    backdrop-filter: blur(18px);
    box-shadow: 0 24px 80px rgba(0,0,0,.22);
    color:#fff;
    text-align:center;
    overflow:hidden;
    animation: pop .9s ease, breathe 4s ease-in-out infinite;
  }
  @keyframes pop{
    0%{transform:scale(.78) translateY(12px); opacity:0}
    100%{transform:scale(1) translateY(0); opacity:1}
  }
  @keyframes breathe{
    0%,100%{transform:translateY(0)}
    50%{transform:translateY(-4px)}
  }

  .ribbon{
    position:absolute;
    left:-40px; right:-40px; top:18px;
    transform: rotate(-2deg);
    padding: 10px 0;
    background: linear-gradient(90deg, rgba(255,45,85,.50), rgba(255,255,255,.20), rgba(255,45,85,.50));
    border-top: 1px solid rgba(255,255,255,.25);
    border-bottom: 1px solid rgba(255,255,255,.20);
    text-shadow: 0 10px 25px rgba(0,0,0,.25);
    letter-spacing:.7px;
    font-weight: 900;
  }

  .title{
    margin: 46px 0 8px;
    font-size: 38px;
    text-shadow: 0 10px 30px rgba(0,0,0,.22);
  }
  .name{
    display:inline-flex;
    gap:10px;
    align-items:center;
    justify-content:center;
    padding: 7px 16px;
    border-radius: 999px;
    background: rgba(255,255,255,.20);
    border: 1px solid rgba(255,255,255,.30);
    box-shadow: inset 0 0 22px rgba(255,255,255,.18);
    margin: 8px 0 14px;
    font-weight: 900;
    letter-spacing: .8px;
  }

  .poemBox{
    margin: 12px auto 0;
    width: min(580px, 92%);
    padding: 16px 16px 14px;
    border-radius: 22px;
    background: rgba(0,0,0,.10);
    border: 1px solid rgba(255,255,255,.16);
    max-height: 280px;
    overflow-y:auto;
    text-align:left;
  }
  .poemBox::-webkit-scrollbar{width:8px}
  .poemBox::-webkit-scrollbar-thumb{
    background: rgba(255,255,255,.25);
    border-radius: 99px;
  }

  .poem{
    font-size: 17px;
    line-height: 1.7;
    color: rgba(255,255,255,.96);
    text-shadow: 0 8px 20px rgba(0,0,0,.18);
  }

  .type{
    display:inline;
    border-right: 2px solid rgba(255,255,255,.85);
    padding-right: 3px;
    animation: caret .8s steps(1) infinite;
  }
  @keyframes caret{50%{border-color:transparent}}

  .question{
    margin: 16px 0 6px;
    font-size: 23px;
    font-weight: 900;
    text-shadow: 0 10px 26px rgba(0,0,0,.18);
  }

  .buttons{
    margin-top: 14px;
    position:relative;
    height: 160px;
    width: min(580px, 92%);
    margin-left:auto;
    margin-right:auto;
  }

  button{
    border:none;
    padding: 13px 22px;
    border-radius: 999px;
    font-size: 16px;
    font-weight: 900;
    cursor:pointer;
    position:fixed;
    transition: transform .18s ease, box-shadow .18s ease, filter .2s ease;
    user-select:none;
    touch-action: manipulation;
    z-index:4;
  }

  #yes{
    position:relative;
    left:auto; top:auto;
    background: linear-gradient(135deg, #ff2d55, #ff6b9e);
    color:#fff;
    box-shadow: 0 18px 34px rgba(255,45,85,.35);
  }
  #yes:hover{transform:scale(1.06); filter:brightness(1.03)}
  #yes:active{transform:scale(.98)}
  .yesWrap{
    position:absolute;
    left: 18%;
    top: 64px;
  }

  #no{
    background: rgba(255,255,255,.92);
    color:#ff2d55;
    box-shadow: 0 16px 30px rgba(0,0,0,.12);
    min-width: 220px;
  }

  .hint{
    margin-top: 10px;
    font-size: 12.8px;
    color: rgba(255,255,255,.86);
  }

  .confetti{
    position:fixed; top:-14px;
    width:10px; height:14px;
    border-radius:3px;
    opacity:.95;
    animation: fall linear forwards;
    pointer-events:none;
    z-index:6;
  }
  @keyframes fall{
    to{transform:translateY(110vh) rotate(620deg); opacity:0.95}
  }

  .final{
    min-height:100vh;
    width:100%;
    display:flex;
    flex-direction:column;
    justify-content:center;
    align-items:center;
    text-align:center;
    color:#fff;
    padding: 22px 18px;
    background:
      radial-gradient(circle at top, rgba(255,45,85,.35), transparent 55%),
      radial-gradient(circle at bottom, rgba(76,201,240,.35), transparent 55%),
      radial-gradient(circle, #ff5f6d, #ffc371);
    animation: pop .9s ease;
  }
  .final h1{font-size:46px; margin:0 0 10px; text-shadow:0 10px 30px rgba(0,0,0,.25)}
  .final h2{margin:0 0 10px; font-size:22px; font-weight:900}
  .final p{margin:8px 0 0; font-size:16px; opacity:.95; line-height:1.7; max-width: 760px}

  /* modal */
  .modalBack{
    position:fixed; inset:0;
    background: rgba(0,0,0,.35);
    display:flex; align-items:center; justify-content:center;
    z-index:10;
    padding: 18px;
  }
  .modal{
    width:min(540px, 92vw);
    border-radius: 24px;
    background: rgba(255,255,255,.20);
    border: 1px solid rgba(255,255,255,.30);
    backdrop-filter: blur(18px);
    color:#fff;
    padding: 18px 16px 16px;
    text-align:center;
    box-shadow: 0 24px 70px rgba(0,0,0,.25);
    animation: pop .55s ease;
  }
  .modal h3{margin:6px 0 10px; font-size:22px}
  .modal p{margin:0 0 14px; opacity:.98; line-height:1.55; font-size:15.5px}
  .modal .okBtn{
    border:none;
    padding: 12px 18px;
    border-radius: 999px;
    background: linear-gradient(135deg, #ff2d55, #ff6b9e);
    color:#fff;
    font-weight: 900;
    cursor:pointer;
  }

  /* pointer trail */
  .trail{
    position:fixed;
    width:10px; height:10px;
    border-radius:50%;
    background: rgba(255,255,255,.85);
    box-shadow: 0 0 14px rgba(255,255,255,.65);
    pointer-events:none;
    z-index:2;
    animation: trailFade .55s ease forwards;
  }
  @keyframes trailFade{
    to{transform:scale(2); opacity:0}
  }
</style>
</head>

<body>

  <!-- Effects are present but hidden until open -->
  <div class="aura hiddenBeforeOpen" id="aura"></div>
  <div class="pulse hiddenBeforeOpen" id="pulse"></div>
  <div class="sparkle hiddenBeforeOpen" id="sp1" style="left:10vw; top:18vh; animation-delay:.2s;"></div>
  <div class="sparkle hiddenBeforeOpen" id="sp2" style="left:84vw; top:20vh; animation-delay:1.1s;"></div>
  <div class="sparkle hiddenBeforeOpen" id="sp3" style="left:18vw; top:72vh; animation-delay:.7s;"></div>
  <div class="sparkle hiddenBeforeOpen" id="sp4" style="left:78vw; top:78vh; animation-delay:1.7s;"></div>

  <!-- Romantic first letter modal -->
  <div class="modalBack" id="modalBack">
    <div class="modal">
      <h3>Hi Shivi üíñ</h3>
      <p>
        I made this little page with a lot of love‚Ä¶ just for you.<br>
        Read it slowly, like a soft song‚Äî<br>
        and if you smile even once‚Ä¶ my heart wins. üåô‚ú®
      </p>
      <button class="okBtn" id="modalOk">Open üíå</button>
    </div>
  </div>

  <div class="card" id="card">
    <div class="ribbon">üíå A little love letter, just for you</div>

    <h1 class="title">Shivi, listen‚Ä¶ ‚ù§Ô∏è</h1>
    <div class="name">üåπ Shivi üåπ</div>

    <div class="poemBox" id="poemBox">
      <div class="poem"><span class="type" id="typeText"></span></div>
    </div>

    <div class="question">Will you be my Valentine, Shivi? üíó</div>

    <div class="buttons" id="btnZone">
      <div class="yesWrap">
        <button id="yes">YES üíò</button>
      </div>
      <button id="no">NO üôà</button>
    </div>

    <div class="hint">Tip: The ‚ÄúNO‚Äù button gets shy‚Ä¶ try catching it üòå</div>
  </div>

<script>
  // ====== START EVERYTHING ONLY AFTER "OPEN" ======
  let started = false;

  const modalBack = document.getElementById("modalBack");
  const btnOpen = document.getElementById("modalOk");

  const yesBtn = document.getElementById("yes");
  let noBtn = document.getElementById("no");

  const poemBox = document.getElementById("poemBox");
  const typeEl  = document.getElementById("typeText");

  // Effects elements
  const effectIds = ["aura","pulse","sp1","sp2","sp3","sp4"];

  btnOpen.addEventListener("click", () => {
    modalBack.style.display = "none";
    startExperience();
  });

  // Romantic poem
  const poemLines = [
    "Shivi‚Ä¶",
    "I don‚Äôt know how to explain it,",
    "but your name feels like a soft song in my chest. üåô",
    "",
    "You are the calm in my chaos,",
    "the warmth in my winter,",
    "the smile my day quietly waits for. üíó",
    "",
    "When you laugh, the world gets lighter‚Äî",
    "as if even time pauses to listen. üåπ",
    "",
    "I don‚Äôt want perfect moments.",
    "I want real moments‚Ä¶ with you.",
    "Small talks, long walks, silly fights, gentle fixes‚Äî",
    "and a love that keeps choosing us. ‚ú®",
    "",
    "So here I am, with honest words:",
    "If I could keep one feeling forever‚Ä¶",
    "it would be you‚Äî",
    "close, safe, and mine. ‚ù§Ô∏è"
  ];

  function startTypewriter(){
    let line = 0, char = 0;
    function typeWriter(){
      if(line >= poemLines.length) return;
      const current = poemLines[line];
      if(char <= current.length){
        const done = poemLines.slice(0,line).join("<br>");
        typeEl.innerHTML = (done ? done + "<br>" : "") + current.slice(0,char);
        char++;
        poemBox.scrollTop = poemBox.scrollHeight;
        setTimeout(typeWriter, 18);
      }else{
        line++; char = 0;
        setTimeout(typeWriter, current === "" ? 150 : 420);
      }
    }
    typeWriter();
  }

  // Floating hearts/petals loop (only after open)
  let floatTimer = null;
  const floatItems = ["üíó","üíñ","üíò","üíï","‚ù§Ô∏è","üåπ","‚ú®","üå∏"];

  function startFloating(){
    floatTimer = setInterval(() => {
      const el = document.createElement("div");
      el.className = "float";
      el.innerText = floatItems[Math.floor(Math.random()*floatItems.length)];
      el.style.left = Math.random()*100 + "vw";
      el.style.fontSize = (18 + Math.random()*24) + "px";
      el.style.animationDuration = (3.2 + Math.random()*3.6) + "s";
      document.body.appendChild(el);
      setTimeout(()=>el.remove(), 7500);
    }, 220);
  }

  // Sparkle trail (only after open)
  function startTrail(){
    let lastTrail = 0;
    window.addEventListener("pointermove", (e)=>{
      if(!started) return;
      const now = Date.now();
      if(now - lastTrail < 25) return;
      lastTrail = now;
      const t = document.createElement("div");
      t.className = "trail";
      t.style.left = (e.clientX - 5) + "px";
      t.style.top  = (e.clientY - 5) + "px";
      document.body.appendChild(t);
      setTimeout(()=>t.remove(), 600);
    });
  }

  // NO button texts + positions
  const noTexts = [
    "NO üôà (but you‚Äôre cute)",
    "NO üò≥ (my heart said yes)",
    "NO ü´£ (why so sweet?)",
    "NO üíì (don‚Äôt make me blush)",
    "NO ü•∫ (I‚Äôm getting weak)",
    "NO üòå (try again, love)",
    "NO üíó (okay‚Ä¶ almost yes)",
    "NO üòç (fine‚Ä¶ YES!)"
  ];

  const positions = [
    { left:"10%", top:"48%" }, // middle-left
    { left:"72%", top:"48%" }, // middle-right
    { left:"10%", top:"18%" }, // top-left
    { left:"72%", top:"18%" }, // top-right
    { left:"10%", top:"78%" }, // bottom-left
    { left:"72%", top:"78%" }, // bottom-right
    { left:"44%", top:"20%" }, // top-center-ish
    { left:"44%", top:"70%" }  // bottom-center-ish
  ];

  let noStep = 0;
  let cooldown = false;

  function placeNo(){
    const pos = positions[Math.floor(Math.random() * positions.length)];
    noBtn.style.left = pos.left;
    noBtn.style.top  = pos.top;
  }

  function stepNo(e){
    if(!started) return;
    if(e) e.preventDefault?.();
    if(cooldown) return;
    cooldown = true;

    const idx = Math.min(noStep, noTexts.length - 1);
    noBtn.textContent = noTexts[idx];
    noStep++;

    placeNo();

    if(noStep >= noTexts.length){
      noBtn.textContent = "Okay YES üòçüíò";
      noBtn.style.background = "linear-gradient(135deg, #ff2d55, #ff6b9e)";
      noBtn.style.color = "#fff";
      noBtn.style.boxShadow = "0 18px 34px rgba(255,45,85,.35)";

      const clone = noBtn.cloneNode(true);
      noBtn.replaceWith(clone);
      noBtn = clone;

      noBtn.addEventListener("click", yesClicked);
      noBtn.addEventListener("touchstart", (ev)=>{ ev.preventDefault(); yesClicked(); }, {passive:false});
      return;
    }

    setTimeout(()=> cooldown = false, 200);
  }

  // YES click
  yesBtn.addEventListener("click", () => {
    if(!started) return;
    yesClicked();
  });

  function yesClicked(){
    confettiBlast(180);
    document.body.innerHTML = `
      <div class="final">
        <h1>YAYYY üòçüíç</h1>
        <h2>Shivi‚Ä¶ you‚Äôre my favorite ‚Äúforever.‚Äù üíó</h2>
        <p>
          I don‚Äôt need grand things.<br>
          Just your hand in mine, and your heart close to mine. üåπ<br><br>
          <b>Happy Valentine‚Äôs Day, Shivi ‚ù§Ô∏è</b><br>
          <span style="opacity:.92">‚Äî Yours, Udit üíå</span>
        </p>
      </div>
    `;
  }

  function confettiBlast(count){
    const colors = ["#ff2d55","#ffd166","#06d6a0","#4cc9f0","#f72585","#ffffff","#c77dff"];
    for(let i=0;i<count;i++){
      const c = document.createElement("div");
      c.className = "confetti";
      c.style.left = Math.random()*100 + "vw";
      c.style.background = colors[Math.floor(Math.random()*colors.length)];
      c.style.animationDuration = (2.2 + Math.random()*2.4) + "s";
      c.style.width = (6 + Math.random()*9) + "px";
      c.style.height = (10 + Math.random()*14) + "px";
      c.style.transform = `rotate(${Math.random()*360}deg)`;
      document.body.appendChild(c);
      setTimeout(()=>c.remove(), 5600);
    }
  }

  function startExperience(){
    if(started) return;
    started = true;

    // show effects
    effectIds.forEach(id => document.getElementById(id).classList.remove("hiddenBeforeOpen"));

    // start animations/loops
    startTypewriter();
    startFloating();
    startTrail();

    // activate NO button + initial placement
    placeNo();
    noBtn.addEventListener("pointerenter", stepNo, {passive:false});
    noBtn.addEventListener("click", stepNo, {passive:false});
    noBtn.addEventListener("touchstart", stepNo, {passive:false});
  }
</script>

</body>
</html>
